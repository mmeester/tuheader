var tuheader=function(e,t,n,r){"use strict";function o(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var a=o(n),l={props:{endpoint:{type:String,required:!0}},setup(e){const n=t.ref("idle"),o=t.ref(""),l=t.ref([]),u=t.ref(1);if(e.endpoint){const t=r.createHttpLink({uri:e.endpoint}),u=new r.InMemoryCache,d=new r.ApolloClient({link:t,cache:u});let i=a.default`
    query CurrentUser {
      CurrentUser {
        username
        roles {
            id
        }
      }
    }
  `;d.query({query:i}).then((e=>{e.data.CurrentUser?(n.value="logged-in",o.value=e.data.CurrentUser.username,l.value=e.data.CurrentUser.roles):n.value="not-logged-in"}))}const d=t.computed((()=>"logged-in"===n.value)),i=t.computed((()=>l.value.map((e=>e.id)).join(", ")));return{state:n,username:o,roles:l,count:u,isLoggedIn:d,displayRights:i}}};const u={class:"tu-header"},d={key:0},i={key:1};l.render=function(e,n,r,o,a,l){return t.openBlock(),t.createElementBlock("header",u,[t.createElementVNode("h1",null,"TU Header #"+t.toDisplayString(o.count),1),o.isLoggedIn?(t.openBlock(),t.createElementBlock("div",d,"Ingelogd: "+t.toDisplayString(o.username)+" | rechten: "+t.toDisplayString(o.displayRights),1)):(t.openBlock(),t.createElementBlock("div",i,"Niet ingelogd:")),t.createElementVNode("a",{href:"#",onClick:n[0]||(n[0]=t.withModifiers((e=>o.count=o.count+1),["prevent"]))},"Add count")])},l.__scopeId="data-v-61dd7a3d",l.__file="src/components/Header.vue";const c={install(e){e.component("TuHeader",l)}},s=l;return e.TuHeader=c,e.TuHeaderComponent=s,e.default=c,Object.defineProperty(e,"__esModule",{value:!0}),e}({},Vue,gql,core);